# 외계행성 판별 컬럼 중요도 평가

## 평가 대상 컬럼

### 1. koi_kepmag (Kepler Magnitude) - ❌ **드랍 권장**
- **외계행성 판별 중요도**: ⭐ 낮음
- **역할**: 망원경별 밝기 측정값 (관측 품질 지표)
- **결측 현황**: 36.3% (TESS 데이터 전체 결측)
- **판단 근거**:
  - 밝기는 관측 가능 여부를 나타낼 뿐, 행성 존재 여부와 직접적 관련 없음
  - TESS는 Kepler와 다른 밴드 사용 → 변환 불가능
  - 항성 물리량(koi_steff, koi_srad)이 더 중요한 정보 제공
- **결론**: **드랍**

### 2. koi_time0bk (First Transit Time) - ❌ **드랍 권장**
- **외계행성 판별 중요도**: ⭐ 매우 낮음
- **역할**: 첫 번째 통과 시각 (관측 타이밍)
- **결측 현황**: 0.3% (거의 없음)
- **판단 근거**:
  - 관측 시각은 행성 물리량과 무관 (단순 시간 스탬프)
  - 궤도 주기(koi_period)가 더 중요한 정보
  - 데이터셋마다 다른 기준 시각 사용 → 표준화 어려움
  - ML 모델에서 오버피팅 원인 가능
- **결론**: **드랍**

---

## 통계적 추정 필요 컬럼 평가

### 3. koi_eccen (Orbital Eccentricity) - ⭐⭐⭐⭐ **유지 + 통계적 추정**
- **외계행성 판별 중요도**: ⭐⭐⭐⭐ 매우 높음
- **역할**: 궤도 이심률 (0=원형, >0=타원형)
- **결측 현황**: 18.5%
- **판단 근거**:
  - **핵심 궤도 파라미터**: 행성 형성 및 진화 이해에 필수
  - **동역학적 안정성**: 이심률이 높으면 다중 행성계에서 불안정
  - **Habitable Zone 영향**: 타원 궤도는 온도 변화 심함
  - **False Positive 구별**: 이심률이 비정상적으로 높으면 이중성계 가능성
  - 대부분의 통과 행성은 조석 고정으로 e≈0 (근사 가능)
- **처리 방법**: 
  - 단주기 행성(P < 10일): e = 0.0 (조석 고정)
  - 장주기 행성: 중앙값 또는 0.1
- **결론**: **유지 + 통계적 추정**

### 4. koi_smet (Stellar Metallicity) - ⭐⭐⭐ **유지 + 통계적 추정**
- **외계행성 판별 중요도**: ⭐⭐⭐ 높음
- **역할**: 항성 금속성 [Fe/H]
- **결측 현황**: 12.7%
- **판단 근거**:
  - **거대 행성 상관관계**: 금속성 높을수록 목성형 행성 많음
  - **행성 형성 이론**: 핵심 강착 모델의 주요 변수
  - **항성 특성**: 나이, 형성 환경 추정 가능
  - **False Positive 구별**: 젊은 별(낮은 금속성)은 활동성 높아 오탐 많음
  - 태양 금속성(0.0)이 평균적 값
- **처리 방법**: 
  - 중앙값 또는 0.0 (태양 금속성)
  - 데이터 출처별 평균값 사용 가능
- **결론**: **유지 + 통계적 추정**

### 5. koi_ingress (Ingress Duration) - ⭐⭐ **조건부 유지**
- **외계행성 판별 중요도**: ⭐⭐ 중간
- **역할**: 통과 시작 시간 (행성이 별 앞으로 들어가는 시간)
- **결측 현황**: 63.8% (Kepler, K2 전체 결측)
- **판단 근거**:
  - **koi_duration과 거의 동일** (r=1.00): ingress ≈ 0.1 × duration
  - **중복 정보**: duration만 있어도 충분
  - **결측 너무 많음**: 63.8%는 회복 어려움
  - **중요도 낮음**: 통과 깊이(depth), 지속시간(duration)이 더 중요
- **처리 방법**: 
  - **Option 1**: 드랍 (duration으로 대체)
  - **Option 2**: `ingress = 0.1 × duration` 계산
- **결론**: **드랍 권장** (koi_duration과 중복, 결측 너무 많음)

---

## 최종 결정

### ❌ 드랍할 컬럼 (3개)
1. **koi_kepmag**: 관측 품질 지표, 행성 판별과 무관, TESS 전체 결측
2. **koi_time0bk**: 관측 타이밍, 행성 물리량과 무관
3. **koi_ingress**: koi_duration과 완전 중복 (r=1.00), 결측 63.8%

### ✅ 유지 + 통계적 추정할 컬럼 (2개)
1. **koi_eccen**: 궤도 이심률 - 핵심 파라미터, 단주기는 0.0, 장주기는 중앙값
2. **koi_smet**: 항성 금속성 - 행성 형성 이론의 핵심 변수, 0.0 (태양 금속성) 추정

---

## 드랍 후 최종 컬럼 구성

**총 25개 컬럼** (28개 - 3개 드랍)

### 1. 기본 정보 (2개)
- kepoi_name, koi_disposition

### 2. 위치 (2개)
- ra, dec

### 3. 궤도 파라미터 (6개) ✅ koi_eccen 유지
- koi_period, koi_sma, koi_incl, **koi_eccen**, koi_longp, koi_impact

### 4. 통과 파라미터 (2개) ❌ koi_ingress 드랍
- koi_duration, koi_depth

### 5. 행성 물리량 (3개)
- koi_prad, koi_insol, koi_teq

### 6. 항성 물리량 (6개) ✅ koi_smet 유지
- koi_srad, koi_smass, koi_sage, koi_steff, koi_slogg, **koi_smet**

### 7. 메타데이터 (4개) ❌ koi_kepmag, koi_time0bk 드랍
- data_source, koi_smass_calculated, koi_sma_calculated, koi_incl_calculated

---

## 결측치 처리 전략 요약

### ⭐⭐⭐⭐⭐ 물리 법칙 계산 (7개)
- koi_smass, koi_sma, koi_slogg, koi_impact, koi_depth, koi_insol, koi_teq

### ⭐⭐⭐⭐ 회귀 모델 예측 (4개)
- koi_srad, koi_prad, koi_steff, koi_duration

### ⭐⭐⭐ 통계적 추정 (2개)
- koi_eccen (단주기: 0.0, 장주기: 중앙값)
- koi_smet (0.0 태양 금속성 또는 중앙값)

### 기타 (2개)
- koi_longp: 90° 기본값 또는 드랍 고려
- koi_sage: 중앙값 또는 드랍 고려
